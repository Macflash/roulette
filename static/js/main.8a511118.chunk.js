(this.webpackJsonproulette=this.webpackJsonproulette||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(8),a=n.n(r),c=(n(14),n(9)),l=n(4),s=n(3),d=n(1),u=(n(15),n(0)),f={totalGames:1,totalSpins:0,totalMoneyWon:0,totalMoneyBet:0,totalBets:0,maxMoney:0,maxMoneyBet:0,maxWin:0},j={totalGames:"Total games played",totalSpins:"Total spins",totalMoneyWon:"Total money won",totalMoneyBet:"Total money bet",totalBets:"Total bets",maxMoney:"Max money",maxMoneyBet:"Max money bet",maxWin:"Max money payed out"};function b(e){var t=e.name.includes("money");return Object(u.jsxs)("div",{children:[e.name,": ",t?"$":void 0,e.value]})}function x(e){return Object(u.jsx)("div",{children:Object.keys(e.stats).map((function(t){return Object(u.jsx)(b,{name:j[t],value:e.stats[t]})}))})}var p="WowRoulette...Cheater";var h=function(){var e=localStorage.getItem(p);return e?JSON.parse(e):null}(),v=[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],O=[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35],g=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],m=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],y=[1,2,3,4,5,6,7,8,9,10,11,12],w=[13,14,15,16,17,18,19,20,21,22,23,24],D=[25,26,27,28,29,30,31,32,33,34,35,36],B=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],C=[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],M=[1,4,7,10,13,16,19,22,25,28,31,34],S=[2,5,8,11,14,17,20,23,26,29,32,35],k=[3,6,9,12,15,18,21,24,27,30,33,36];function T(e){return function(e){return g.indexOf(Number(e))>=0}(e)?"rgb(255,80,80)":"gold"}function I(){var e=Math.floor(37*Math.random())-1;return e<0||e>36?(console.error("WOAH!! What are the odds??"),I()):e}var W=Object(d.a)(Object(d.a)({},{straight:35,split:17,street:11,square:8,six:5}),{Reds:1,Blacks:1,Evens:1,Odds:1,Lows:1,Highs:1,Dozens:2,Columns:2}),E="text";function z(e,t){return e.filter((function(e){return t.includes(e)})).length==e.length&&t.filter((function(t){return e.includes(t)})).length==t.length}function N(e){var t,n,i;return Object(u.jsxs)("div",{onDrop:e.onDrop?function(t){var n;t.preventDefault(),null===(n=e.onDrop)||void 0===n||n.call(e,Number(t.dataTransfer.getData(E)))}:void 0,onDragOver:e.onDrop?function(e){e.preventDefault()}:void 0,onClick:e.onClick,style:{cursor:e.onClick?"pointer":void 0,flex:e.flex,marginLeft:e.margin,color:e.color||T(e.name),textShadow:"1px 2px rgba(0,0,0,.7)",backgroundColor:"green",border:"1px solid gold",alignItems:"center",display:"flex",justifyContent:"center",minWidth:70,minHeight:70,outline:e.roll==e.name?"10px solid gold":void 0,outlineOffset:-10},children:[e.name,Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse"},children:null===(t=e.placedBets)||void 0===t?void 0:t.filter((function(t){return"straight"==t.type&&t.winsOn.includes(Number(e.name))})).map((function(e){return Object(u.jsx)(H,{index:e.chipIndex,size:20})}))}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse"},children:e.winsOn&&(null===(n=e.placedBets)||void 0===n?void 0:n.filter((function(t){return t.type==e.type&&z(t.winsOn,e.winsOn)})).map((function(e){return Object(u.jsx)(H,{index:e.chipIndex,size:20})})))}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse"},children:e.winsOn&&(null===(i=e.winningBets)||void 0===i?void 0:i.filter((function(t){return t.type==e.type&&z(t.winsOn,e.winsOn)})).map((function(e){return Object(u.jsxs)("div",{style:{color:G[e.chipIndex],marginTop:-20},children:["+$",$[e.chipIndex]*(W[e.type]+1)]})})))})]})}function R(e){for(var t=[],n=e.placedBets,i=e.winningBets,o=e.roll,r=e.vertical,a={placedBets:n,winningBets:i,roll:o},c=r?"row":"column",l=function(){var n=e.start+s;t.push(Object(u.jsx)(N,Object(d.a)(Object(d.a)({},a),{},{name:n,onDrop:e.onBet?function(t){var i;null===(i=e.onBet)||void 0===i||i.call(e,[n],t)}:void 0})))},s=0;s<e.length;s++)l();return Object(u.jsx)("div",{style:{display:"flex",flexDirection:c},children:t})}function L(e){for(var t=e.placedBets,n=e.winningBets,i=e.roll,o=e.vertical,r={placedBets:t,winningBets:n,roll:i},a=o?"row":"column",c=o?"column":"row",l=[Object(u.jsx)(N,Object(d.a)({name:"0"},r))],s=0;s<12;s++)s%4==0&&l.push(Object(u.jsx)("div",{style:{width:4,backgroundColor:"green"}})),l.push(Object(u.jsx)(R,Object(d.a)(Object(d.a)({vertical:o},r),{},{start:3*s+1,length:3,onBet:e.onBet})));return l.push(Object(u.jsx)("div",{style:{width:4,backgroundColor:"green"}})),Object(u.jsxs)("div",{style:{display:"inline-flex",flexDirection:c,justifyContent:"center"},children:[l,Object(u.jsxs)("div",{style:{display:"flex",flexDirection:a},children:[Object(u.jsx)(N,Object(d.a)(Object(d.a)({},r),{},{name:"2to1",type:"Columns",winsOn:M,onDrop:e.onBet?function(t){e.onBet(M,t)}:void 0})),Object(u.jsx)(N,Object(d.a)(Object(d.a)({},r),{},{name:"2to1",type:"Columns",winsOn:S,onDrop:e.onBet?function(t){e.onBet(S,t)}:void 0})),Object(u.jsx)(N,Object(d.a)(Object(d.a)({},r),{},{name:"2to1",type:"Columns",winsOn:k,onDrop:e.onBet?function(t){e.onBet(k,t)}:void 0}))]})]})}var $=[1,5,25,50,100,500,1e3],G=["white","red","blue","orange","grey","teal","lightgreen"],F=["black","white","white","black","white","white","black"];function H(e){var t=e.size||50;return Object(u.jsx)("div",{draggable:e.draggable,onDragStart:e.draggable?function(t){t.dataTransfer.setData(E,e.index.toString())}:void 0,style:{display:"flex",alignItems:"center",justifyContent:"center",color:F[e.index],height:t,width:t,cursor:e.draggable?"grab":void 0,borderRadius:t,backgroundColor:G[e.index],marginBottom:-.85*t,border:"2px solid black",boxShadow:"0px 3px 0px black"},children:t>30?$[e.index]:void 0})}function A(e){return e||0}function J(e,t){return A(e)==A(t)}function q(e,t){return A(e)-A(t)}function P(e){var t=o.a.useState([0,0,0,0,0,0,0,0,0,0,0]),n=Object(s.a)(t,2),i=n[0],r=n[1];console.log(e.chips,i);var a=function(e,t){for(var n=Math.max(e.length,t.length),i=0,o=0;o<n;o++)J(e[o],t[o])||(i+=Math.abs(q(e[o],t[o])));return i}(i,e.chips);o.a.useEffect((function(){if(a){var t=function(){console.log("Updating chips ".concat(a));var t=Object(l.a)(i),n=1;a>10&&(n=5),a>25&&(n=10),a>50&&(n=25);for(var o=10;o>=0;o--){if(A(i[o])>A(e.chips[o]))return t[o]=A(t[o]),t[o]-=Math.min(n,A(t[o])-A(e.chips[o])),setTimeout((function(){r(t)}),100),{v:void 0};if((i[o]||0)<(e.chips[o]||0))return t[o]=t[o]||0,t[o]+=Math.min(n,A(e.chips[o])-A(t[o])),setTimeout((function(){r(t)}),100),{v:void 0}}}();if("object"===typeof t)return t.v}else console.log("DONE?")}),[i,e.chips,a]);var c=0;return i.forEach((function(e,t){e>0&&(c=t)})),console.log(c),Object(u.jsx)("div",{style:{display:"flex",backgroundColor:"green",justifyContent:"center",height:200,marginTop:10},children:i.filter((function(e,t){return t<=c+1})).map((function(t,n){for(var i=[],o=[],r=0;r<t;r++)r%10==0&&o.length>0&&(i.push(Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse",margin:2},children:o})),o=[]),o.push(Object(u.jsx)(H,{index:n,draggable:!a&&(r==t-1||r%10==9)}));return o.length>0&&i.push(Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse",margin:2},children:o})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{display:"flex",minWidth:80,justifyContent:"center",padding:10,paddingBottom:50,margin:2,borderLeft:"1px solid gold",borderRight:"1px solid gold",position:"relative"},children:[Object(u.jsxs)("div",{onDrop:function(t){t.preventDefault();var i=Number(t.dataTransfer.getData(E));if(i!=n)if(console.log("Trading chip ".concat(i," ($").concat($[i],") for ").concat(n," ($").concat($[n],")")),i<n){if(e.chips[i]*$[i]>=$[n]){var o,r=Object(l.a)(e.chips);r[n]=A(r[n]),r[i]=A(r[i]),r[i]-=Math.floor($[n]/$[i]),r[n]++,null===(o=e.setChips)||void 0===o||o.call(e,r)}}else if(e.chips[i]>0){var a,c=Object(l.a)(e.chips);c[n]=A(c[n]),c[i]=A(c[i]),c[i]--,c[n]+=Math.floor($[i]/$[n]),null===(a=e.setChips)||void 0===a||a.call(e,c)}},onDragOver:function(t){var i=Number(t.dataTransfer.getData(E));i!=n&&(console.log("Trading chip ".concat(i," ($").concat($[i],") for ").concat(n," ($").concat($[n],")")),i<n?e.chips[i]*$[i]>=$[n]&&(t.preventDefault(),t.dataTransfer.dropEffect="copy"):e.chips[i]>0&&(t.preventDefault(),t.dataTransfer.dropEffect="copy"))},style:{position:"absolute",top:0,textAlign:"center",left:0,right:0},children:["$",$[n]]}),i]})})}))})}function U(e){switch(e.length){case 1:return"straight";case 2:return"split";case 3:return"street";case 4:return"square";case 12:return"Columns";default:throw"HEY! bad type!"}}var V=[10,5,1];function Y(e){return $[e.chipIndex]*(W[e.type]+1)}var K=function(){var e=o.a.useState(!!(null===h||void 0===h?void 0:h.vertical)),t=Object(s.a)(e,2),n=t[0],i=t[1],r=n?"row":"column",a=n?"column":"row",j=o.a.useState(!1),b=Object(s.a)(j,2),M=b[0],S=b[1],k=o.a.useState(!1),E=Object(s.a)(k,2),z=E[0],R=E[1],G=o.a.useState(0),F=Object(s.a)(G,2),H=F[0],A=F[1],J=o.a.useState((null===h||void 0===h?void 0:h.bets)||[]),q=Object(s.a)(J,2),K=q[0],Q=q[1],X=o.a.useState((null===h||void 0===h?void 0:h.chips)||[].concat(V)),Z=Object(s.a)(X,2),_=Z[0],ee=Z[1],te=o.a.useState([]),ne=Object(s.a)(te,2),ie=ne[0],oe=ne[1],re=o.a.useState((null===h||void 0===h?void 0:h.stats)||Object(d.a)({},f)),ae=Object(s.a)(re,2),ce=ae[0],le=ae[1],se=_.reduce((function(e,t,n){return e+t*$[n]}),0),de=ie.reduce((function(e,t,n){return e+Y(t)}),0);o.a.useEffect((function(){var e;e={bets:K,chips:_,stats:ce,vertical:n},localStorage.setItem(p,JSON.stringify(e))}),[_,K,ie,ce]);var ue=o.a.useCallback((function(e){R(!0);var t=[].concat(Object(l.a)(K),[e]);Q(t),le((function(t){return Object(d.a)(Object(d.a)({},t),{},{totalBets:t.totalBets+1,totalMoneyBet:t.totalMoneyBet+$[e.chipIndex]})}));var n=t.reduce((function(e,t){return e+$[t.chipIndex]}),0);n>ce.maxMoneyBet&&le((function(e){return Object(d.a)(Object(d.a)({},e),{},{maxMoneyBet:n})}))}),[K,Q,le]),fe=function(e){var t=Object(l.a)(_);t[e]=Math.max(0,t[e]-1),ee(t)};function je(e,t){return{winsOn:e,type:t,onDrop:function(n){ue({chipIndex:n,winsOn:e,type:t}),fe(n)},placedBets:K,winningBets:ie,roll:H}}var be=0==se&&0==K.length,xe=Object(u.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:a,alignItems:"center",justifyContent:"center",margin:"10px 50px"},children:[Object(u.jsx)("h1",{style:{marginRight:n?void 0:"auto",position:n?void 0:"absolute",left:50},children:"Roulette"}),Object(u.jsx)("button",{title:"Spin the wheel",style:{borderRadius:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:90,width:90,color:T(H)},onClick:function(){K.length>0&&le((function(e){return Object(d.a)(Object(d.a)({},e),{},{totalSpins:e.totalSpins+1})})),S(!0);var e=I();A(e);var t=K.filter((function(t){return t.winsOn.includes(e)}));oe(t),Q([]);var n,i=t.reduce((function(e,t){return e+Y(t)}),0),o=Object(l.a)(_),r=Object(c.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;o[a.chipIndex]+=W[a.type]+1}}catch(u){r.e(u)}finally{r.f()}ee(o);var s=_.reduce((function(e,t,n){return e+t*$[n]}),0);le((function(e){return Object(d.a)(Object(d.a)({},e),{},{totalMoneyWon:e.totalMoneyWon+i,maxWin:Math.max(e.maxWin,i),maxMoney:Math.max(e.maxMoney,s)})}))},children:H}),M?void 0:Object(u.jsxs)("div",{style:{color:"white",fontWeight:300,fontSize:18,marginLeft:0,position:n?void 0:"absolute",left:"calc(50% + 60px)"},children:[" ","Click to spin the wheel"," "]}),Object(u.jsxs)("div",{style:{backgroundColor:"green",fontSize:24,padding:10,color:"gold",marginLeft:n?void 0:"auto",right:50,position:n?void 0:"absolute"},children:["$",Object(u.jsx)("span",{style:{textShadow:"1px 2px rgba(0,0,0,.5)"},children:se}),de>0?Object(u.jsxs)("span",{style:{color:"white"},children:[" +$",de]}):void 0]})]});return Object(u.jsxs)("div",{className:"App",children:[be?Object(u.jsxs)("div",{style:{position:"absolute",top:100,left:100,right:100,bottom:100,backgroundColor:"green",zIndex:1e3,border:"16px double gold"},children:[Object(u.jsx)("h2",{children:"Game over!"}),Object(u.jsx)("button",{onClick:function(){le((function(e){return Object(d.a)(Object(d.a)({},e),{},{totalGames:e.totalGames+1})})),ee([].concat(V)),Q([]),oe([])},children:"New Game?"})]}):null,n?null:xe,Object(u.jsxs)("div",{style:{display:"flex",flexDirection:r,justifyContent:"center",alignItems:"center"},children:[Object(u.jsxs)("div",{style:{display:"inline-flex",flexDirection:r,margin:10},children:[Object(u.jsx)(L,{vertical:n,placedBets:K,roll:H,winningBets:ie,onBet:function(e,t){fe(t),ue({chipIndex:t,type:U(e),winsOn:e})}}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:a,justifyContent:"end",marginTop:4},children:[Object(u.jsx)("div",{style:{flex:1}}),Object(u.jsx)(N,Object(d.a)({name:"1st 12",flex:"4",margin:4},je(y,"Dozens"))),Object(u.jsx)(N,Object(d.a)({name:"2nd 12",flex:"4",margin:4},je(w,"Dozens"))),Object(u.jsx)(N,Object(d.a)({name:"3rd 12",flex:"4",margin:4},je(D,"Dozens"))),Object(u.jsx)("div",{style:{width:4}}),Object(u.jsx)("div",{style:{flex:1}})]}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:a,justifyContent:"end",marginTop:4},children:[Object(u.jsx)("div",{style:{flex:1}}),Object(u.jsx)(N,Object(d.a)({name:"1-18",flex:2,margin:4},je(B,"Lows"))),Object(u.jsx)(N,Object(d.a)({name:"EVEN",flex:2,margin:4},je(v,"Evens"))),Object(u.jsx)(N,Object(d.a)({name:"RED",color:"red",flex:2,margin:4},je(g,"Reds"))),Object(u.jsx)(N,Object(d.a)({name:"GOLD",flex:2,margin:4},je(m,"Blacks"))),Object(u.jsx)(N,Object(d.a)({name:"ODD",flex:2,margin:4},je(O,"Odds"))),Object(u.jsx)(N,Object(d.a)({name:"19-36",flex:2,margin:4},je(C,"Highs"))),Object(u.jsx)("div",{style:{width:4}}),Object(u.jsx)("div",{style:{flex:1}})]})]}),Object(u.jsxs)("div",{children:[n?xe:null,Object(u.jsx)(P,{chips:_,setChips:ee}),Object(u.jsx)(x,{stats:ce}),z?void 0:Object(u.jsxs)("div",{style:{color:"white",fontWeight:300,fontSize:18,maxWidth:400},children:[" ","Drag your chips to a square to place bets. Or drag between columns to exchange for different chips."," "]}),Object(u.jsx)("button",{style:{position:"absolute",bottom:0,right:0},onClick:function(){return i(!n)},children:"Rotate"})]})]})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(K,{})}),document.getElementById("root")),Q()}},[[17,1,2]]]);
//# sourceMappingURL=main.8a511118.chunk.js.map